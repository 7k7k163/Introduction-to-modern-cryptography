% !TEX program = xelatex
\documentclass[UTF8]{ctexrep}
\usepackage{xeCJK}
\setCJKmainfont[BoldFont=HiraginoSansGB-W3, ItalicFont=AdobeKaitiStd-Regular]{FZXSSJW--GB1-0}
\setCJKsansfont{HiraginoSansGB-W6}
\setCJKmonofont{FZLTXHK--GBK1-0}
\CTEXsetup[format+={\raggedright}]{section}

\usepackage{fontspec}
\setmainfont{TimesNewRomanPSMT}
\setsansfont{Verdana}
\setmonofont{Menlo-Regular}

\newfontfamily{\FAB}{Font Awesome 5 Brands Regular}
\setCJKfamilyfont{FZFS}{FZFENSTXJW--GB1-0}
\newfontfamily{\FAFR}{Font Awesome 5 Free Regular}
\def\faGithub{{\FAB \symbol{"F09B}}} % Github
\def\faEmail{{\FAFR \symbol{"F0E0}}} % E-Mail

\usepackage{float}

\usepackage{geometry}
\geometry{a4paper,left=3cm,right=3cm,top=2.5cm,bottom=2.5cm}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\chead{\itshape 现代密码学简介}
\rhead{\thepage}
\renewcommand\headrulewidth{0.6pt}

\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
    \thispagestyle{fancy}% original style: plain
    \global\@topnum\z@
    \@afterindentfalse
    \secdef\@chapter\@schapter%
}
\makeatother

\renewcommand{\labelitemii}{$\circ$}

\usepackage{amsmath}
\usepackage{esvect}
\usepackage{bm}
\usepackage{upgreek}
\def \paral {/\!/}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{extarrows}
\usepackage{mathrsfs}
\usepackage[amssymb]{SIunits}
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\ext}{\displaystyle}
\newcommand{\arsinh}{\mathrm{arsinh}\,}
\newcommand{\arcosh}{\mathrm{arcosh}\,}
\newcommand{\artanh}{\mathrm{artanh}\,}
\newcommand{\dif}{\mathop{}\!{}\mathrm{d}}
\newcommand{\ic}{\mathrm{i}}
\newcommand{\Tr}{\mathrm{T}}
\newcommand{\ke}{\mathrm{k}}
\newcommand{\p}{\mathrm{p}}
\newcommand{\Z}{\mathbb{Z}}

\def\mathbm#1{{\bm #1}}
\def\vec#1{\vv{\bm #1}}
\def\xvec#1#2{\vv{{\bm #1}_{#2}}}
\def\yvec#1#2{\vv{{\bm #1}^{#2}}}
\def\abs#1{\left| #1 \right|}
\def\pth#1{\left( {#1}\right)}
\def\brack#1{\left[ {#1}\right]}
\def\brace#1{\left\{ {#1} \right\}}
\def\E#1#2{{\mathrm{E}_{#1}\left({#2}\right)}}
\def\D#1#2{{\mathrm{D}_{#1}\left({#2}\right)}}
\def\GF{\mathrm{GF}}
\def\ID{\mathrm{ID}}
\renewcommand{\rem}{{\bfseries Remark}}

\usepackage{amsthm}

\newtheorem{Definition}{\hspace{2em}定义}[chapter]
\newtheorem{theorem}{\hspace{2em}定理}[chapter]

\usepackage[framemethod=tikz]{mdframed}
\newenvironment{prove}{\begin{mdframed}[backgroundcolor=gray!10,roundcorner=8pt]}{\end{mdframed}}

\title{现代密码学简介}
\author{张曙}
\date{\today}

\usepackage{titlesec}%manage the title
\titleclass{\subsubsubsection}{straight}[\subsection]

\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}} % optional; useful if paragraphs are to be numbered

\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}%
  {3.25ex \@plus1ex \@minus.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother

\usepackage[absolute]{textpos}

\usepackage[unicode]{hyperref}
\hypersetup{pdfauthor={张曙},
pdftitle={现代密码学简介},
hidelinks
}
\begin{document}
\begin{titlepage}
\vspace*{9em}{\centering\Huge\CJKfamily{FZFS} 现代密码学简介\par}
\vspace{5em}{\centering\Large \textbf{张曙}\par}
\vspace{3em}{\centering\faGithub\quad\texttt{\href{https://github.com/Evian-Zhang}{https://github.com/Evian-Zhang}}\par\centering\faEmail\quad\texttt{\href{mailto:evianzhang1999@gmail.com}{evianzhang1999@gmail.com}}\par}
\begin{textblock}{10}[0,0](3,14)
在GitHub上查看本项目：\faGithub\quad\texttt{\href{https://github.com/Evian-Zhang/Introduction-to-modern-cryptography}{Evian-Zhang/Introduction-to-modern-cryptography}}
\end{textblock}
\end{titlepage}
\tableofcontents
\thispagestyle{fancy}
\input{chapters/chapter_1/绪论}
\input{chapters/chapter_2/流密码与伪随机数发生器}
\input{chapters/chapter_3/分组密码}
\input{chapters/chapter_4/公钥密码}
\input{chapters/chapter_5/哈希算法}
\input{chapters/chapter_6/消息验证码}
\input{chapters/chapter_7/数字签名}
\input{chapters/chapter_8/安全协议}
\end{document}